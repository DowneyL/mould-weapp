<!--index.wxml-->
<view class="container">
  <view class="page-body">
    <view class="page__bd">

      <view class="forum_info">
        <view class="forum_title">
          {{forum_data.name}}
        </view>
        <view class="forum_note">
          主题:{{forum_data.threads}} 帖子:{{forum_data.posts}}
        </view>
      </view>

      <view wx:if="{{has_top}}" class="top_subject">
        <view class="top_subject_note">
          置顶帖
        </view>
        <block wx:for="{{few_top_thread_data}}" wx:for-item="item">
          <view class="top_subject_item" bindtap="toDetail" data-tid="{{item.tid}}">
            <view class="top_subject_item_tip_cell">
              <view class="top_subject_item_tip">置顶</view>
            </view>
            <view>{{item.subject}}</view>
          </view>
        </block>

        <block wx:if="{{show_more}}">
          <view class="top_subject_item" bindtap="show_more_top">更多</view>
        </block>
      </view>

      <view>
        <view class="thread_order">
          <view class="thread_order_item {{ recent == 1 ? 'thread_order_border' : '' }}" bindtap="get_recent_thread">最新</view>
          <view class="thread_order_item {{ order_by_views == 1 ? 'thread_order_border' : '' }}" bindtap="get_hot_thread">热门</view>
          <view class="thread_order_item {{ digest == 1 ? 'thread_order_border' : '' }}" bindtap="get_digest_thread">精华</view>
        </view>

        <block wx:for="{{articleList}}" wx:for-item="article">

          <view class="article" bindtap="toDetail" data-pid="{{article.pid}}" data-tid="{{article.tid}}">
            
            <view class="article-content">
              <view class="article-msg">

                <view class="article-title">
                  {{article.subject}}
                </view>

                <view class="article-info">  
                  <view class="article-fid">
                    <view class="article-fid-item">{{article.fid_name}}</view>
                  </view>
                </view>
                
              </view>

              <block wx:if="{{article.image_list.length > 0}}">
                <view  class="article-img">
                  <image class="article-img-item" src='{{article.image_list[0]}}'></image>
                </view>
              </block>
            </view>
            
            <view class="article-author">
              <view>{{article.author}} · {{article.create_time}}</view>
              <view>阅读{{article.views}} 回复{{article.replies}}</view>
            </view>

          </view>

        </block>

      </view>
    </view>


    <view class="edit-cell" bindtap="toAddArticle">
      <image class="edit-cell-img" src="../../resources/image/edit.png"/>
    </view>

  </view>

  
</view>